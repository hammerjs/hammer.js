/*! Hammer.JS - v2.0.0dev - 2014-07-06
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */


!function(a,b){"use strict";function c(a,c,d){var e,f;if(a)if(a.forEach)a.forEach(c,d);else if(a.length!==b)for(e=0,f=a.length;f>e;e++)c.call(d,a[e],e,a);else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e,a)}function d(a,c,d){for(var e=Object.keys(c),f=0,g=e.length;g>f;f++)(!d||d&&a[e[f]]===b)&&(a[e[f]]=c[e[f]]);return a}function e(a,b){return d(a,b,!0)}function f(a,b,c){var e,f=b.prototype;if(Object.create)e=a.prototype=Object.create(f),e.constructor=a;else{d(a,b);var g=function(){this.constructor=a};g.prototype=f,e=a.prototype=new g}c&&d(e,c),e._super=f}function g(a,b){return function(){return a.apply(b,arguments)}}function h(b,c){return typeof b==bb?b.apply(c?c[0]||a:a,c):b}function i(a,c){return a===b?c:a}function j(a,b,d){c(n(b),function(b){a.addEventListener(b,d,!1)})}function k(a,b,d){c(n(b),function(b){a.removeEventListener(b,d,!1)})}function l(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function m(a,b){return a.indexOf(b)>-1}function n(a){return a.trim().split(/\s+/g)}function o(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0,e=a.length;e>d;d++)if(c&&a[d][c]==b||!c&&a[d]===b)return d;return-1}function p(a){return Array.prototype.slice.call(a,0)}function q(a,b){for(var c=[],d=[],e=0,f=a.length;f>e;e++){var g=b?a[e][b]:a[e];o(d,g)<0&&c.push(a[e]),d[e]=g}return c}function r(a,c){for(var d,e,f=c[0].toUpperCase()+c.slice(1),g=0,h=ab.length;h>g;g++)if(d=ab[g],e=d?d+f:c,e in a)return e;return b}function s(){return eb++}function t(b,c){var d=this;this.manager=b,this.callback=c,this.domHandler=function(a){h(d.manager.options.enable,[d.manager])&&d.handler(a)},this.evEl&&j(this.manager.element,this.evEl,this.domHandler),this.evWin&&j(a,this.evWin,this.domHandler)}function u(a){var b;return new(b=hb?H:ib?I:gb?K:G)(a,v)}function v(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&ob&&d-e===0,g=b&qb&&d-e===0;c.isFirst=f,c.isFinal=g,f&&(a.session={}),c.eventType=b,w(a,c),a.recognize(c)}function w(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=y(b)),e>1&&!c.firstMultiple?c.firstMultiple=y(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=z(d);b.timeStamp=Date.now(),b.deltaTime=b.timeStamp-f.timeStamp,b.deltaX=i.x-h.x,b.deltaY=i.y-h.y,b.center=i,b.angle=D(h,i),b.distance=C(h,i),b.offsetDirection=B(b.deltaX,b.deltaY),b.scale=g?F(g.pointers,d):1,b.rotation=g?E(g.pointers,d):0;var j=a.element;l(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j,x(c,b)}function x(a,c){var d=a.lastInterval;d||(d=a.lastInterval=y(c));var e,f,g,h,i=c.timeStamp-d.timeStamp;if(i>nb||d.velocity===b){var j=d.deltaX-c.deltaX,k=d.deltaY-c.deltaY,l=A(i,j,k);f=l.x,g=l.y,e=Math.max(l.x,l.y),h=B(j,k)}else e=d.velocity,f=d.velocityX,g=d.velocityY,h=d.direction;c.velocity=e,c.velocityX=f,c.velocityY=g,c.direction=h}function y(a){for(var b=[],c=0;c<a.pointers.length;c++)b[c]={clientX:db(a.pointers[c].clientX),clientY:db(a.pointers[c].clientY)};return{timeStamp:Date.now(),pointers:b,center:z(b),deltaX:a.deltaX,deltaY:a.deltaY}}function z(a){var b=a.length;if(1===b)return{x:db(a[0].clientX),y:db(a[0].clientY)};for(var c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return{x:db(c/b),y:db(d/b)}}function A(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}}function B(a,b){return a===b?sb:Math.abs(a)>=Math.abs(b)?a>0?tb:ub:b>0?vb:wb}function C(a,b,c){c||(c=Ab);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function D(a,b,c){c||(c=Ab);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function E(a,b){return D(b[1],b[0],Bb)-D(a[1],a[0],Bb)}function F(a,b){return C(b[0],b[1],Bb)/C(a[0],a[1],Bb)}function G(){this.evEl=Db,this.evWin=Eb,this.allow=!0,this.pressed=!1,t.apply(this,arguments)}function H(){this.evEl=Hb,this.evWin=Ib,t.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function I(){this.evEl=Kb,this.targetIds={},t.apply(this,arguments)}function J(a,b){var c,d,e=b.targetIds,f=p(a.targetTouches),g=p(a.changedTouches),h=[];if("touchstart"==a.type)for(c=0,d=f.length;d>c;c++)e[f[c].identifier]=!0;for(c=0,d=g.length;d>c;c++)e[g[c].identifier]&&h.push(g[c]),("touchend"==a.type||"touchcancel"==a.type)&&delete e[g[c].identifier];return[q(f.concat(h),"identifier"),h]}function K(){t.apply(this,arguments);var a=g(this.handler,this);this.touch=new I(this.manager,a),this.mouse=new G(this.manager,a)}function L(a,b){this.manager=a,this.set(b)}function M(a){return m(a,Qb)?Qb:m(a,Rb)||m(a,Sb)?a.replace(/[\-\w]+/g,function(a){return/^pan\-/.test(a)?a:""}):m(a,Pb)?Pb:Ob}function N(a){this.id=s(),this.manager=null,this.options=e(a||{},this.defaults),this.options.enable=i(this.options.enable,!0),this.state=Tb,this.simultaneous={},this.requireFail=[]}function O(a){return a&Yb?"cancel":a&Wb?"end":a&Vb?"move":a&Ub?"start":""}function P(a){return a==wb?"down":a==vb?"up":a==tb?"left":a==ub?"right":""}function Q(a,b){var c=b.manager;return c?c.get(a):a}function R(){N.apply(this,arguments)}function S(){R.apply(this,arguments),this.pX=null,this.pY=null}function T(){R.apply(this,arguments)}function U(){N.apply(this,arguments),this._timer=null,this._input=null}function V(){R.apply(this,arguments)}function W(){R.apply(this,arguments)}function X(){N.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Y(a,b){return b=b||{},b.recognizers=i(b.recognizers,Y.defaults.easyRecognizers),new Z(a,b)}function Z(a,b){b=b||{},this.options=e(b,Y.defaults),this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=u(this),this.touchAction=new L(this,this.options.touchAction),$(this,!0),c(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&c(a[2],b.recognizeWith,b),a[3]&&c(a[3],b.requireFailure,b)},this)}function $(a,b){var d=a.element,e=a.options.cssProps;c(e,function(a,c){d.style[r(d.style,c)]=b?a:""});var f=b&&function(){return!1};"none"==e.userSelect&&(d.onselectstart=f),"none"==e.userDrag&&(d.ondragstart=f)}function _(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}var ab=["","webkit","moz","MS","ms","o"],bb="function",cb="undefined",db=Math.round,eb=1,fb=/mobile|tablet|ip(ad|hone|od)|android/i,gb="ontouchstart"in a,hb=r(a,"PointerEvent")!==b,ib=gb&&fb.test(navigator.userAgent),jb="touch",kb="pen",lb="mouse",mb="kinect",nb=25,ob=1,pb=2,qb=4,rb=8,sb=1,tb=2,ub=4,vb=8,wb=16,xb=tb|ub,yb=vb|wb,zb=xb|yb,Ab=["x","y"],Bb=["clientX","clientY"];t.prototype={handler:function(){},destroy:function(){this.elEvents&&k(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&k(a,this.winEvents,this.domHandler)}};var Cb={mousedown:ob,mousemove:pb,mouseup:qb,mouseout:rb},Db="mousedown",Eb="mousemove mouseout mouseup";f(G,t,{handler:function(a){var b=Cb[a.type];if(b&ob&&0===a.button&&(this.pressed=!0),b&pb&&1!==a.which&&(b=qb),this.pressed&&this.allow){var c=a.relatedTarget||a.toElement||a.target;"mouseout"==a.type&&"HTML"!=c.nodeName&&(b=pb),b&(qb|rb)&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:lb,srcEvent:a})}}});var Fb={pointerdown:ob,pointermove:pb,pointerup:qb,pointercancel:rb,pointerout:rb},Gb={2:jb,3:kb,4:lb,5:mb},Hb="pointerdown pointermove pointerup pointercancel",Ib="pointerout";a.MSPointerEvent&&(Hb="MSPointerDown MSPointerMove MSPointerUp MSPointerCancel",Ib="MSPointerOut"),f(H,t,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Fb[d],f=Gb[a.pointerType]||a.pointerType,g=a.relatedTarget||a.toElement||a.target;"pointerout"==d&&"HTML"!=g.nodeName&&(e=pb),e&ob&&(0===a.button||f==jb)?b.push(a):e&(qb|rb)&&(c=!0);var h=o(b,a.pointerId,"pointerId");0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Jb={touchstart:ob,touchmove:pb,touchend:qb,touchcancel:rb},Kb="touchstart touchmove touchend touchcancel";f(I,t,{handler:function(a){var b=J(a,this);this.callback(this.manager,Jb[a.type],{pointers:b[0],changedPointers:b[1],pointerType:jb,srcEvent:a})}}),f(K,t,{handler:function(a,b,c){var d=c.pointerType==jb,e=c.pointerType==lb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(qb|rb)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Lb=r(document.body.style,"touchAction"),Mb=Lb!==b,Nb="compute",Ob="auto",Pb="manipulation",Qb="none",Rb="pan-x",Sb="pan-y";L.prototype={set:function(a){a==Nb&&(a=this.compute()),Mb&&(this.manager.element.style[Lb]=a),this.actions=a.toLowerCase()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a,b=[];return c(this.manager.recognizers,function(a){h(a.options.enable,a)&&(b=b.concat(a.getTouchAction()))}),a=q(b).join(" "),M(a)},preventDefaults:function(a){if(!Mb){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=m(d,Qb),f=m(d,Sb),g=m(d,Rb);return e||f&&g||f&&c&xb||g&&c&yb?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var Tb=1,Ub=2,Vb=4,Wb=8,Xb=Wb,Yb=16,Zb=32;N.prototype={defaults:{},set:function(a,b){return this.options[a]=b,this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){var b=this.simultaneous;return a=Q(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return a=Q(a,this),delete this.simultaneous[a.id],this},requireFailure:function(a){var b=this.requireFail;return a=Q(a,this),-1===o(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){a=Q(a,this);var b=o(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){this.manager.emit(this.options.event,a),this.manager.emit(this.options.event+O(this.state),a)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=Zb)},canEmit:function(){for(var a=0;a<this.requireFail.length;a++)if(!(this.requireFail[a].state&(Zb|Tb)))return!1;return!0},recognize:function(a){var b=d({},a);return h(this.options.enable,[this,b])?(this.state&(Xb|Yb|Zb)&&(this.state=Tb),this.state=this.process(b),void(this.state&(Ub|Vb|Wb|Yb)&&this.tryEmit(b))):(this.reset(),void(this.state=Zb))},process:function(){},getTouchAction:function(){},reset:function(){}},f(R,N,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(Ub|Vb),e=this.attrTest(a);return d&&(c&rb||!e)?b|Yb:d||e?c&qb?b|Wb:b&Ub?b|Vb:Ub:Zb}}),f(S,R,{defaults:{event:"pan",threshold:10,pointers:1,direction:zb},getTouchAction:function(){var a=this.options.direction;if(a===zb)return[Qb];var b=[];return a&xb&&b.push(Sb),a&yb&&b.push(Rb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&xb?(e=0===f?sb:0>f?tb:ub,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?sb:0>g?vb:wb,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return R.prototype.attrTest.call(this,a)&&(this.state&Ub||!(this.state&Ub)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY,this._super.emit.call(this,a);var b=P(a.direction);b&&this.manager.emit(this.options.event+b,a)}}),f(T,R,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Rb,Sb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&Ub)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),f(U,N,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ob]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(qb|rb)&&!e)this.reset();else if(a.eventType&ob){this.reset();var f=this;this._timer=setTimeout(function(){f.state=Xb,f.tryEmit()},b.time)}return Zb},reset:function(){clearTimeout(this._timer),this._timer=null},emit:function(){this.state===Xb&&(this._input.timeStamp=Date.now(),this.manager.emit(this.options.event,this._input))}}),f(V,R,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Qb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&Ub)}}),f(W,R,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:xb|yb,pointers:1},getTouchAction:function(){return S.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(xb|yb)?b=a.velocity:c&xb?b=a.velocityX:c&yb&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&b>this.options.velocity&&a.eventType&qb},emit:function(a){this.manager.emit(this.options.event,a);var b=P(a.direction);b&&this.manager.emit(this.options.event+b,a)}}),f(X,N,{defaults:{event:"tap",pointers:1,taps:1,delay:300,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Pb]},process:function(a){var b=this,c=this.options,d=a.pointers.length===c.pointers,e=a.distance<c.threshold,f=a.deltaTime<c.time;if(this.reset(),a.eventType&ob&&0===this.count)return this._setupBeganState();if(e&&f&&d){if(a.eventType&qb){var g=this.pTime?a.timeStamp-this.pTime<c.interval:!0,h=!this.pCenter||C(this.pCenter,a.center)<c.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%c.taps;if(0===i)return this.hasRequireFailures()?(this._timer=setTimeout(function(){b.state=Xb,b.tryEmit()},c.delay),Ub):Xb}return this._setupBeganState()}return Zb},_setupBeganState:function(){var a=this;return this._timer=setTimeout(function(){a.state=Zb},this.options.delay),Zb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Xb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Y.VERSION="2.0.0dev",Y.defaults={domEvents:!1,touchAction:Nb,enable:!0,easyRecognizers:[[V,{enable:!1}],[T,{enable:!1},["rotate"]],[W,{direction:xb}],[S,{direction:xb},["swipe"]],[X],[X,{event:"doubletap",taps:2},["tap"]],[U]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var $b=1,_b=2;Z.prototype={set:function(a,b){this.options[a]=b},stop:function(a){this.session.stopped=a?_b:$b},recognize:function(a){if(!this.session.stopped){this.touchAction.preventDefaults(a);var b,c=this.session,d=c.curRecognizer;(!d||d&&d.state&Xb)&&(d=c.curRecognizer=null);for(var e=0,f=this.recognizers.length;f>e;e++)b=this.recognizers[e],this.session.stopped===_b||d&&b!=d&&!b.canRecognizeWith(d)?b.reset():b.recognize(a),!d&&b.state&(Ub|Vb|Wb)&&(d=c.curRecognizer=b)}},get:function(a){if(a instanceof N)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){var b=this.recognizers;a=this.get(a),b.splice(o(b,a),1),this.touchAction.update()},on:function(a,b){var d=this.handlers;return c(n(a),function(a){d[a]=d[a]||[],d[a].push(b)}),this},off:function(a,b){var d=this.handlers;return c(n(a),function(a){b?d[a].splice(o(d[a],b),1):delete d[a]}),this},emit:function(a,b){this.options.domEvents&&_(a,b);var c=this.handlers[a];if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0,e=c.length;e>d;d++)c[d](b)}},destroy:function(){this.element&&$(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},d(Y,{INPUT_START:ob,INPUT_MOVE:pb,INPUT_END:qb,INPUT_CANCEL:rb,STATE_POSSIBLE:Tb,STATE_BEGAN:Ub,STATE_CHANGED:Vb,STATE_ENDED:Wb,STATE_RECOGNIZED:Xb,STATE_CANCELLED:Yb,STATE_FAILED:Zb,DIRECTION_NONE:sb,DIRECTION_LEFT:tb,DIRECTION_RIGHT:ub,DIRECTION_UP:vb,DIRECTION_DOWN:wb,DIRECTION_HORIZONTAL:xb,DIRECTION_VERTICAL:yb,DIRECTION_ALL:zb,Manager:Z,Input:t,TouchAction:L,Recognizer:N,AttrRecognizer:R,Tap:X,Pan:S,Swipe:W,Pinch:T,Rotate:V,Press:U,on:j,off:k,each:c,merge:e,extend:d,inherit:f,bindFn:g,prefixed:r}),typeof define==bb&&define.amd?define(function(){return Y}):typeof module!=cb&&module.exports?module.exports=Y:a.Hammer=Y}(window);
//# sourceMappingURL=hammer.min.map